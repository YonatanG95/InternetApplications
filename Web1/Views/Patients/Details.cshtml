@model Web1.Models.Patient

@{
    ViewBag.Title = "Details";
}

<body onload="ml()">
    <h2>Details</h2>

    <div>
        <h4>Patient</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.ID)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ID)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.FirstName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.FirstName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.LastName)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.LastName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Age)
            </dt>

            <dd id="pAge">
                @Html.DisplayFor(model => model.Age)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Gender)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Gender)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Longitude)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Longitude)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Latitude)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Latitude)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.City)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.City)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Address)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Address)
            </dd>

            @*<dt>
                    @Html.DisplayNameFor("Nothing")
                </dt>*@

            @*<dt>
                    @Html.DisplayNameFor(model => model.Zip)
                </dt>*@

            @*<dd>
                    @Html.DisplayFor(model => model.Zip)
                </dd>*@

        </dl>
    </div>
    <h6 id="recLab">text</h6>
    <h6 id="recDoc">text</h6>
    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.ID }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
</body>
<script type="text/javascript">

    function ml() {
        recommendedLab();
        recommendedDoc();
    }

    function recommendedLab() {
        var getAge = document.getElementById("pAge").innerHTML;// $('#pAge');
            //if (doctor.val() == null || doctor.val() == '') {
            //    $(date).val(null);
                //alert(getAge);
            //}
            //else {
        var url = '@Url.Action("RecommendedCheckupbyAge", "Patients")';
        $.post(url, { age: getAge }, function (data) {
            //alert(data);
            document.getElementById("recLab").innerHTML = "Recommended checkup for your age is: " + data;
            });

            @*var datetime = $("#model.Date_Time").val();
            var doctorid = $('#doctorid');
            doctorid.empty();*@
        }
        @*jQuery.validator.addMethod("gregname", function (value, element) {
            return true;
        }, "* Amount must be greater than zero");
        $('#doctorid').validate({
            rules: {
                doctorid: {
                    gregname: true
                }
            }
        });*@

    function recommendedDoc() {
        var getAge = document.getElementById("pAge").innerHTML;// $('#pAge');

        var url = '@Url.Action("RecommendedDocbyAge", "Patients")';
        $.post(url, { age: getAge }, function (data) {
            document.getElementById("recDoc").innerHTML = "Recommended doctor for your age is: " + data;
            });
        }

</script>